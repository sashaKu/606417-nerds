var link=document.querySelector(".button-write"),popup=document.querySelector(".modal"),error=document.querySelector(".modal-write"),overlay=document.querySelector(".modal-overlay"),close=popup.querySelector(".button-modal-close"),nickname=popup.querySelector("[name=nickname]"),email=popup.querySelector("[name=email]"),text=popup.querySelector("[name=text]"),form=popup.querySelector("form"),isStorageSupportName=!0,storageName="",isStorageSupportEmail=!0,storageEmail="",isStorageSupportText=!0,storageText="";try{storageName=localStorage.getItem("nickname"),storageEmail=localStorage.getItem("email"),storageText=localStorage.getItem("text")}catch(r){isStorageSupportName=!1,isStorageSupportEmail=!1,isStorageSupportText=!1}link.addEventListener("click",function(r){r.preventDefault(),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),popup.classList.add("modal-show"),overlay.classList.add("modal-show-overlay"),!storageName||storageEmail||storageText?storageName&&storageEmail&&!storageText?(nickname.value=storageName,email.value=storageEmail,text.focus()):storageName&&storageEmail&&storageText?(nickname.value=storageName,email.value=storageEmail,text.value=storageText,text.focus()):nickname.focus():(nickname.value=storageName,email.focus())}),close.addEventListener("click",function(r){r.preventDefault(),popup.classList.remove("modal-show"),error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),overlay.classList.remove("modal-show-overlay")}),form.addEventListener("submit",function(r){r.preventDefault(),nickname.value||email.value||text.value?nickname.value||email.value?nickname.value||text.value?email.value||text.value?nickname.value?email.value?text.value?(error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),localStorage.setItem("nickname",nickname.value),localStorage.setItem("email",email.value),localStorage.setItem("text",text.value)):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form")):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form-email")):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form-text")):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form-email"),error.classList.add("valid-form")):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form-text"),error.classList.add("valid-form")):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form-text"),error.classList.add("valid-form-email")):(error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),error.offsetWidth=error.offsetWidth,error.classList.add("modal-error"),error.classList.add("valid-form-text"),error.classList.add("valid-form-email"),error.classList.add("valid-form"))}),window.addEventListener("keydown",function(r){27===r.keyCode&&(r.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),error.classList.remove("modal-error"),error.classList.remove("valid-form-text"),error.classList.remove("valid-form-email"),error.classList.remove("valid-form"),overlay.classList.remove("modal-show-overlay")))});